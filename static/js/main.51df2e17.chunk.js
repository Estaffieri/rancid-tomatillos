(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{38:function(e,t,i){},39:function(e,t,i){},45:function(e,t,i){},46:function(e,t,i){},70:function(e,t,i){},71:function(e,t,i){},72:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i(0),a=i(10),r=i(18),c=i.n(r),o=(i(38),i(12)),l=i(13),u=i(15),h=i(14),j=(i(39),function(e){var t=e.id,i=e.image,n=e.title,r=e.rating;e.displayMovieDetails;return Object(s.jsxs)(a.b,{to:"/movie/".concat(t),tabIndex:0,className:"poster",children:[Object(s.jsx)("img",{src:i,id:t,className:"poster-image",alt:n}),Object(s.jsx)("h3",{className:"title",children:n}),Object(s.jsxs)("p",{className:"rating",children:["Average Rating: \u2b50",r.toFixed(1)]})]})}),m=(i(45),function(e){var t=e.movies,i=e.displayMovieDetails,n=t.map((function(e){return Object(s.jsx)(j,{id:e.id,image:e.poster_path,title:e.title,rating:e.average_rating,displayMovieDetails:i},e.id)}));return Object(s.jsx)("section",{className:"movies-container",children:n})}),d=(i(46),i(21)),v=i.n(d),b=(i(64),i(32)),p=function(e){Object(u.a)(i,e);var t=Object(h.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).goBackToMain=function(){n.setState({movieDetails:{}}),n.setState({movieTrailer:[]})},n.displayMovieTrailers=function(){return n.state.movieTrailers.map((function(e){return Object(s.jsx)(v.a,{url:"https://www.youtube.com/embed/".concat(e.key)},e.id)}))},n.state={movieDetails:{},movieTrailers:[],error:""},n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e,t=this;(e=parseInt(this.props.id),fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e)).then((function(e){return e.json()}))).then((function(e){t.setState({movieDetails:e.movie}),t.getTrailers()})).catch((function(e){return t.setState({error:e.toString()})}))}},{key:"getTrailers",value:function(){var e,t=this;(e=parseInt(this.props.id),fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies/".concat(e,"/videos")).then((function(e){return e.json()}))).then((function(e){return t.setState({movieTrailers:e.videos})})).then((function(){return t.loadMovieTrailers()})).catch((function(e){return t.setState({error:e.toString()})}))}},{key:"render",value:function(){var e,t=this;return this.state.movieDetails.id?(e=Object(s.jsxs)("section",{children:[Object(s.jsx)("section",{className:"go-back-section",children:Object(s.jsx)(a.b,{to:"/",children:Object(s.jsx)("button",{onClick:function(){return t.goBackToMain()},className:"back-button",children:"GO BACK"})})}),Object(s.jsxs)("section",{className:"header-info",children:[Object(s.jsx)("h3",{children:this.state.movieDetails.title.toUpperCase()}),Object(s.jsx)("p",{className:"tagline",children:this.state.movieDetails.tagline}),Object(s.jsxs)("p",{className:"tagline",children:["Average Rating: \u2b50 ",this.state.movieDetails.average_rating.toFixed(1)]})]}),Object(s.jsxs)("section",{className:"movie-details",children:[Object(s.jsxs)("section",{className:"movie-facts",children:[Object(s.jsx)("section",{children:Object(s.jsx)("img",{src:this.state.movieDetails.poster_path,className:"movie-image",alt:this.state.movieDetails.title})}),Object(s.jsxs)("section",{className:"movie-highlights",children:[Object(s.jsx)("h4",{children:"Movie Summary:"}),Object(s.jsx)("p",{children:this.state.movieDetails.overview}),Object(s.jsx)("h4",{children:"Movie Runtime:"}),Object(s.jsxs)("p",{children:[this.state.movieDetails.runtime," mins"]}),Object(s.jsx)("h4",{children:"Released:"}),Object(s.jsx)("p",{children:new Date(this.state.movieDetails.release_date).toLocaleDateString()}),Object(s.jsx)("h4",{children:"Genre:"}),Object(s.jsxs)("p",{children:[" ",this.state.movieDetails.genres[0]]}),Object(s.jsx)("h4",{children:"Budget:"}),Object(s.jsxs)("p",{children:[" $",new Intl.NumberFormat("en-US").format(this.state.movieDetails.budget)]}),Object(s.jsx)("h4",{children:"Revenue:"}),Object(s.jsxs)("p",{children:[" $",new Intl.NumberFormat("en-US").format(this.state.movieDetails.revenue)]})]})]}),Object(s.jsxs)("section",{className:"movie-info",children:[Object(s.jsx)("img",{src:this.state.movieDetails.backdrop_path,className:"backdrop-image",alt:this.state.movieDetails.title}),Object(s.jsx)("section",{className:"movie-trailers",children:Object(s.jsx)(b.Carousel,{showThumbs:!1,width:650,children:this.state.movieTrailers.map((function(e){return Object(s.jsx)(v.a,{"data-testid":e.id,url:"https://www.youtube.com/embed/".concat(e.key)},e.id)}))})})]})]})]}),Object(s.jsx)("section",{className:"movie-detail-view",children:e})):Object(s.jsx)("h1",{children:"Loading..."})}}]),i}(n.Component),O=function(e){return Object(s.jsxs)("section",{className:"filtering-buttons",children:[Object(s.jsx)("button",{onClick:function(){return e.sortMovieRatings("best")},children:"Ratings Best to Worst"}),Object(s.jsx)("button",{onClick:function(){return e.sortMovieRatings("worst")},children:"Ratings Worst to Best"})]})},x=(i(70),i(2)),f=(i(71),function(e){Object(u.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(o.a)(this,i),(e=t.call(this)).searchByInput=function(t){t.preventDefault(),e.setState({input:t.target.value.toLowerCase()}),e.props.inputValue(t.target.value)},e.state={input:""},e}return Object(l.a)(i,[{key:"render",value:function(){return Object(s.jsx)("input",{onChange:this.searchByInput,type:"text",value:this.state.input,placeholder:"Search by Title"})}}]),i}(n.Component)),g=function(e){Object(u.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(o.a)(this,i),(e=t.call(this)).sortMovieRatings=function(t){var i;i="best"===t?e.state.movies.sort((function(e,t){return t.average_rating-e.average_rating})):e.state.movies.sort((function(e,t){return e.average_rating-t.average_rating})),e.setState({movies:i})},e.getUserInput=function(t){e.setState({input:t})},e.state={movies:[],error:"",input:""},e}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var e=this;fetch("https://rancid-tomatillos.herokuapp.com/api/v2/movies").then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.movies})})).catch((function(t){return e.setState({error:t.toString()})}))}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("main",{children:[Object(s.jsxs)("header",{tabIndex:0,children:[Object(s.jsxs)("section",{className:"logo",children:[Object(s.jsx)("h1",{className:"tomato",children:"\ud83c\udf45"}),Object(s.jsx)("h1",{className:"title",children:"RANCID TOMATILLOS"}),Object(s.jsx)("h1",{className:"tomato",children:"\ud83c\udf45"})]}),Object(s.jsx)(x.a,{exact:!0,path:"/",render:function(){return Object(s.jsxs)("section",{children:[Object(s.jsx)("section",{className:"search",children:Object(s.jsx)(f,{inputValue:e.getUserInput})}),Object(s.jsx)(O,{sortMovieRatings:e.sortMovieRatings})]})}})]}),Object(s.jsx)(x.a,{exact:!0,path:"/",render:function(){return Object(s.jsx)(m,{movies:e.filterMoviesByTitle})}}),Object(s.jsx)(x.a,{exact:!0,path:"/movie/:id",render:function(e){var t=e.match;return Object(s.jsx)(p,{id:t.params.id},t.params.id)}})]})}},{key:"filterMoviesByTitle",get:function(){var e=this;return this.state.movies.filter((function(t){return t.title.toLowerCase().includes(e.state.input)}))}}]),i}(n.Component),D=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,73)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),s(e),n(e),a(e),r(e)}))},N=Object(s.jsx)(a.a,{basename:"/rancid-tomatillos",children:Object(s.jsx)(g,{})});c.a.render(N,document.getElementById("root")),D()}},[[72,1,2]]]);
//# sourceMappingURL=main.51df2e17.chunk.js.map